-- Top Module: This is the main file that integrates all the submodules.


library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;

entity topLevel is
end topLevel;
	
	
architecture behaviour of topLevel is

signal rollState : std_logic := '0';
signal numOfSides : std_logic := '0';
signal numOfDice : std_logic := '0';
signal valueOfRoll : std_logic_vector(3 downto 0) := '0000';


component reset is
	port (softReset : in std_logic;
			rollState : inout std_logic := 
			hardReset : in std_logic
	); 
end component;
component configureDice is
port (selection : in std_logic_vector(1 downto 0);
		rollState : inout std_logic := '0'
		numOfSides : out std_logic_vector(3 downto 0);
		numOfDice : out std_logic_vector(3 downto 0)
);
end component;

component FSM is
port (clockIn : in std_logic;
		rollState : inout std_logic := '0';
		clockOut : out std_logic
			);
end component;

begin


	U1 : reset 
	port map(
			softReset => KEY(0),
			rollState => rollState,
			hardReset => KEY(1)
	);
	U2 : FSM 
	port map(
			clockIn => SW(0),
			rollState => rollState,
			clockOut => clock_sig
	);
	U3 : configureDice 
	port map(
		selection => KEY(2),
		rollState => rollState,
		numOfSides => numOfSides,
		numOfDice => numOfDice
	); 		
